Network ID: 68BEA79ACF6E42FA
Check IP: zerotier-cli listnetworks

Devices check:

python3 - << EOF
import sounddevice as sd
print(sd.query_devices())
EOF

---
---

* need to use local ip on:
    ino code: ws_server_host 
    port: 8000

* in 3 terminals run these three lines:

```bash

daphne server.asgi.application -b 192.168.68.101 -p 8000

python manage.py runserver 192.168.68.101:8100

ngrok http 192.168.68.101:8000

```

* need to change the puiblic ip of ngrok in the webPage file without the http part

---

# âš™ï¸ 1. System Overview

```
   Laptop (control + monitor)
   â”œâ”€â”€ Keyboard input â†’ UDP â†’ Pi Zero (real time)
   â”œâ”€â”€ Mic â†’ UDP (audio) â†’ Pi Zero
   â”œâ”€â”€ UDP (audio) â† Pi Zero (INMP441 mic)
   â”œâ”€â”€ UDP (text telemetry) â† Pi Zero (sensor readings)
   â””â”€â”€ MJPEG video â† ESP32-CAM HTTP stream

   Pi Zero (robot brain)
   â”œâ”€â”€ Motor driver (PWM outputs)
   â”œâ”€â”€ Ultrasonic sensor (distance)
   â”œâ”€â”€ MPU-6050 (IÂ²C accel/gyro)
   â”œâ”€â”€ INMP441 (IÂ²S mic)
   â”œâ”€â”€ Audio amp + 3 W speaker (PWM audio out)
   â””â”€â”€ ZeroTier + UDP + ffmpeg

---
---
---
---
---
---
---
---
---
---
---
---
---
---
---
---
---
---
---
---
---
---
---
---

### Pin connection

Perfect â€” thatâ€™s exactly the right step before wiring your robot.
Hereâ€™s a **clean, ready-to-build pin planning table** for your **Raspberry Pi Zero** robot setup.
It includes **each component**, **its pin name**, **which Pi GPIO pin it connects to**, and **the voltage** required.

---

## âš™ï¸ Raspberry Pi Zero Pin Connection Table

| **Component**                           | **Component Pin Name**                 | **Connect to Raspberry Pi Pin (BCM No. / Physical Pin)**      | **Voltage / Notes**                                                       |
| --------------------------------------- | -------------------------------------- | ------------------------------------------------------------- | ------------------------------------------------------------------------- |
| **INMP441 Microphone (IÂ²S)**            | VDD                                    | 3.3 V (Physical Pin 1 or 17)                                  | **3.3 V only** (5 V will damage it)                                       |
|                                         | GND                                    | GND (Physical Pin 6, 9, 14, 20, 25, 30, 34, 39)               | Common ground                                                             |
|                                         | **BCLK (SCK)**                         | GPIO 18 / Physical Pin 12                                     | IÂ²S Bit Clock                                                             |
|                                         | **LRCL (WS)**                          | GPIO 19 / Physical Pin 35                                     | IÂ²S Left/Right Clock                                                      |
|                                         | **DOUT**                               | GPIO 20 / Physical Pin 38                                     | IÂ²S Data Input to Pi                                                      |
|                                         | **L/R Select**                         | Connect to GND                                                | Select left channel                                                       |

| **3 W Audio Amplifier (e.g. PAM8403)**  | **VIN / VCC**                          | 5 V (Physical Pin 2 or 4)                                     | Requires **5 V**                                                          |
|                                         | **GND**                                | Any GND pin                                                   | Common ground                                                             |
|                                         | **L-IN**                               | GPIO 13 / Physical Pin 33                                     | PWM Audio output from Pi                                                  |
|                                         | **L-OUT / R-OUT**                      | Connect to 3 W speakers                                       | Output to speakers                                                        |

| **HC-SR04 Ultrasonic Sensor**           | **VCC**                                | 5 V (Physical Pin 2 or 4)                                     | Needs **5 V**                                                             |
|                                         | **GND**                                | Any GND pin                                                   | Common ground                                                             |
|                                         | **Trig**                               | GPIO 23 / Physical Pin 16                                     | Output from Pi                                                            |
|                                         | **Echo**                               | GPIO 24 / Physical Pin 18 (via voltage divider 1 kÎ© + 2 kÎ©)** | Echo pin is 5 V â†’ must step down to 3.3 V for Pi input                    |

| **MPU6050 (Accelerometer + Gyroscope)** | **VCC**                                | 3.3 V (Physical Pin 1 or 17)                                  | Use **3.3 V** (5 V also works on some modules but 3.3 V is safer)         |
|                                         | **GND**                                | Any GND pin                                                   | Common ground                                                             |
|                                         | **SDA**                                | GPIO 2 / Physical Pin 3                                       | IÂ²C Data                                                                  |
|                                         | **SCL**                                | GPIO 3 / Physical Pin 5                                       | IÂ²C Clock                                                                 |

| **Motor Driver (L293D / L298N)**        | **VCC1 (logic)**                       | 5 V (Physical Pin 2 or 4)                                     | Logic voltage                                                             |
|                                         | **VCC2 (motor power)**                 | 5 Vâ€“9 V (from external battery)                               | Depends on motor voltage                                                  |
|                                         | **GND**                                | Pi GND (shared)                                               | Common ground                                                             |
|                                         | **IN1**                                | GPIO 17 / Physical Pin 11                                     | Motor A control                                                           |
|                                         | **IN2**                                | GPIO 27 / Physical Pin 13                                     | Motor A control                                                           |
|                                         | **IN3**                                | GPIO 22 / Physical Pin 15                                     | Motor B control                                                           |
|                                         | **IN4**                                | GPIO 10 / Physical Pin 19                                     | Motor B control                                                           |
|                                         | **ENA / ENB**                          | 5 V or PWM GPIOs                                              | Use 5 V if always enabled, or connect to PWM pins for speed control       |

| **ESP32-CAM**                           | Connect separately to 5 V power source (e.g., USB or 5 V pin on Pi with ample current) | â€”                                                             | **5 V** required; Pi Zeroâ€™s 5 V pin can supply small current (~1 A total) |

---

## âš¡ Voltage summary

| **Device**                | **Power Voltage** | **Current Draw (approx.)**                     |
| ------------------------- | ----------------- | ---------------------------------------------- |
| Raspberry Pi Zero         | 5 V               | 150â€“250 mA                                     |
| INMP441 Mic               | 3.3 V             | 3.0 mA                                         |
| PAM8403 Amp + 3 W speaker | 5 V               | 300â€“500 mA (depending on volume)               |
| HC-SR04                   | 5 V               | 15 mA                                          |
| MPU6050                   | 3.3 V             | 5 mA                                           |
| L293D motor driver        | 5â€“9 V             | Depends on motors (typically 300 mA per motor) |
| ESP32-CAM                 | 5 V               | 200â€“300 mA (peaks up to 500 mA when streaming) |

---

## ðŸ§© Important wiring notes

1. **Common Ground:**
   All components **must share GND** with the Pi (including external motor battery ground).

2. **Ultrasonic Echo pin:**
   Must be **voltage divided** using 1 kÎ© + 2 kÎ© resistors:

   ```
   Echo(5V) ---[2kÎ©]---+---(GPIO24)
                        |
                      [1kÎ©]
                        |
                       GND
   ```

3. **Audio Amplifier:**
   Use **PWM pin GPIO13** â†’ amplifier input.
   Donâ€™t connect the speaker directly to GPIO pins.

4. **ESP32-CAM power:**
   Needs stable **5 V** and **enough current** (use a separate USB power bank if necessary).

---

Would you like me to also draw a **visual wiring diagram (schematic)** showing all connections (Pi Zero + sensors + audio + motor driver + ESP32-CAM) so you can double-check before building?
